---
import Section from "./Section.astro";

// Define o tipo da variant
type Variant = "hotmart" | "whatsapp";

// Recebe a prop variant com tipo específico
const { variant = "hotmart" }: { variant?: Variant } = Astro.props;

// Define o link e texto do botão baseado na variant
const buttonConfig: Record<Variant, { link: string; text: string }> = {
  hotmart: {
    link: "https://pay.hotmart.com/T102535950F",
    text: "GARANTIR MEU ACESSO AGORA"
  },
  whatsapp: {
    link: "https://api.whatsapp.com/send?phone=5545991419164&text=Gostaria%20de%20mais%20informa%C3%A7%C3%B5es%20do%20Curso%20regularizador%20de%20im%C3%B3veis",
    text: "ENTRAR AGORA"
  }
};

const button = buttonConfig[variant];
---

<Section id="PropostaCourse" class="px-5 py-12 md:py-16 lg:py-20">
  <div class="max-w-[1280px] mx-auto">
    
    <!-- Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-8">
      
      <!-- Card Único - Ocupa 2 colunas no desktop -->
      <div class="lg:col-span-2 bg-gray rounded-3xl px-8 pt-16 pb-8 lg:px-8 lg:pt-16 lg:pb-8">
        
        <!-- Título -->
        <h2 class="text-[24px] lg:text-[32px] font-regular text-center">
          Junte-se a <span class="font-semibold">Profissão do Futuro...</span>
        </h2>
        
        <!-- Espaço 16px -->
        <div class="mt-4"></div>
        
        <!-- Parágrafo -->
        <p class="text-[16px] lg:text-[24px] font-regular text-center lg:text-left">
          Enquanto todo mundo está brigando por espaço em mercados saturados, você pode entrar em uma profissão onde a demanda é maior que a oferta e vai continuar sendo por décadas!
        </p>
        
        <!-- Espaço 32px -->
        <div class="mt-8"></div>
        
        <!-- Stats Grid - 2x2 em lg, 1x4 em xl/2xl -->
        <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6 lg:gap-8">
          
          <!-- Stat 1 -->
          <div class="text-center">
            <p class="text-[24px] lg:text-[32px] font-semibold text-green">+ de 40 milhões</p>
            <p class="text-[16px] lg:text-[16px] font-regular mt-2">de imóveis irregulares no Brasil</p>
          </div>
          
          <!-- Stat 2 -->
          <div class="text-center">
            <p class="text-[24px] lg:text-[32px] font-semibold text-green">+ de R$ 2 bilhões</p>
            <p class="text-[16px] lg:text-[16px] font-regular mt-2">movimentados anualmente no setor</p>
          </div>
          
          <!-- Stat 3 -->
          <div class="text-center">
            <p class="text-[24px] lg:text-[32px] font-semibold text-green">Menos de 5.000</p>
            <p class="text-[16px] lg:text-[16px] font-regular mt-2">regularizadores ativos em todo o país</p>
          </div>
          
          <!-- Stat 4 -->
          <div class="text-center">
            <p class="text-[24px] lg:text-[32px] font-semibold text-green whitespace-nowrap">100% de demanda</p>
            <p class="text-[16px] lg:text-[16px] font-regular mt-2">nas cidades brasileiras</p>
          </div>
          
        </div>
        
        <!-- Espaço 32px -->
        <div class="mt-8"></div>
        
        <!-- Botão - AGORA COM LINK DINÂMICO -->
        <a 
          href={button.link}
          target="_blank"
          rel="noopener noreferrer"
          class="block text-[16px] lg:text-[24px] font-regular bg-green text-black px-8 py-4 lg:px-10 lg:py-5 rounded-lg hover:bg-dark hover:text-white transition-all duration-200 text-center w-full lg:w-auto mx-auto lg:mx-0"
        >
          {button.text}
        </a>
        
      </div>
      
    </div>
  </div>
</Section>