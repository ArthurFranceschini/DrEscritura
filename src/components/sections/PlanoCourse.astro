---
import Section from "./Section.astro";
import { Check, Gift } from "lucide-astro";

// Define o tipo da variant
type Variant = "hotmart" | "whatsapp";

// Recebe a prop variant com tipo específico
const { variant = "hotmart" }: { variant?: Variant } = Astro.props;

// Define o link e texto do botão baseado na variant
const buttonConfig: Record<Variant, { link: string; text: string }> = {
  hotmart: {
    link: "https://pay.hotmart.com/T102535950F",
    text: "GARANTIR MEU ACESSO AGORA"
  },
  whatsapp: {
    link: "https://api.whatsapp.com/send?phone=5545991419164&text=Gostaria%20de%20mais%20informa%C3%A7%C3%B5es%20do%20Curso%20regularizador%20de%20im%C3%B3veis",
    text: "ENTRAR AGORA"
  }
};

const button = buttonConfig[variant];
---

<Section id="PlanoCourse" class="px-5 py-12 md:py-16 lg:py-20">
  <div class="max-w-[1280px] mx-auto">
    
    <!-- Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-8">
      
      <!-- Card de Pricing - Ocupa 2 colunas no desktop -->
      <div class="lg:col-span-2 bg-green rounded-3xl px-8 pt-16 pb-8">
        
        <!-- Plano anual -->
        <p class="text-[12px] lg:text-[16px] font-regular text-center lg:text-left">
          Plano anual
        </p>
        
        <!-- Espaço 4px -->
        <div class="mt-1"></div>
        
        <!-- Acesso completo -->
        <p class="text-[16px] lg:text-[32px] font-semibold text-center lg:text-left">
          Acesso completo
        </p>
        
        <!-- Espaço 16px -->
        <div class="mt-4"></div>
        
        {variant === "hotmart" && (
          <>
            <div class="flex items-center justify-center lg:justify-start gap-4">
              <p class="text-[24px] lg:text-[32px] font-semibold">
                R$ 997,00
              </p>
              <div class="flex flex-col text-left">
                <span class="text-[12px] lg:text-[16px] font-regular uppercase">Garantia Incondicional</span>
                <span class="text-[12px] lg:text-[16px] font-semibold uppercase">de 7 Dias</span>
              </div>
            </div>
            
            <!-- Espaço 32px -->
            <div class="mt-8"></div>
          </>
        )}
        
        <!-- Botão - AGORA COM LINK DINÂMICO -->
        <a 
          href={button.link}
          target="_blank"
          rel="noopener noreferrer"
          class="block text-[16px] lg:text-[24px] font-regular bg-white text-black px-8 py-4 lg:px-10 lg:py-5 rounded-lg hover:bg-dark hover:text-white transition-all duration-200 text-center w-full lg:w-auto"
        >
          {button.text}
        </a>
        
        <!-- Espaço 32px -->
        <div class="mt-8"></div>
        
        <!-- Lista de benefícios em grid de 2 colunas no desktop -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 text-left">
          
          <!-- Coluna Esquerda -->
          <div class="space-y-4">
            <!-- Item 1 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">1. Fundamentos da Regularização</p>
            </div>
            
            <!-- Item 2 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">2. Metodologia Dr. Escritura</p>
            </div>
            
            <!-- Item 3 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">3. Captação de Clientes</p>
            </div>
            
            <!-- Item 4 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">4. Execução e Escala</p>
            </div>
          </div>
          
          <!-- Coluna Direita -->
          <div class="space-y-4">
            <!-- Item 5 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">5. Marketing Estratégico</p>
            </div>
            
            <!-- Item 6 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">6. Kit de Documentos Prontos</p>
            </div>
            
            <!-- Item 7 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">7. Masterclasses Exclusivas</p>
            </div>
            
            <!-- Item 8 -->
            <div class="flex items-start gap-3">
              <Check size={20} class="flex-shrink-0 mt-1" />
              <p class="text-[12px] lg:text-[16px] font-regular">8. Certificação Profissional</p>
            </div>
          </div>
          
        </div>
        
        <!-- Espaço 64px -->
        <div class="mt-16"></div>
        
        <!-- Divisor -->
        <div class="w-full h-[2px] bg-white opacity-20"></div>
        
        <!-- Espaço 32px -->
        <div class="mt-8"></div>
        
        <!-- Seção de Bônus -->
        <!-- Título com ícone -->
        <div class="flex items-center justify-center lg:justify-start gap-3">
          <Gift size={32} class="flex-shrink-0" />
          <p class="text-[20px] lg:text-[32px] font-semibold">
            BÔNUS PARA QUEM AGIR HOJE:
          </p>
        </div>
        
        <!-- Espaço 32px -->
        <div class="mt-8"></div>
        
        <!-- Lista de bônus em grid de 2 colunas no desktop -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 text-left">
          
          <!-- BÔNUS #1 -->
          <div class="flex items-start gap-3">
            <Check size={20} class="flex-shrink-0 mt-1" />
            <div>
              <p class="text-[14px] lg:text-[20px] font-regular">
                Bônus 1 — Kit completo de documentos de <span class="font-semibold">R$ 4.997</span> por <span class="font-semibold">R$ 0,00</span>
              </p>
            </div>
          </div>
          
          <!-- BÔNUS #2 -->
          <div class="flex items-start gap-3">
            <Check size={20} class="flex-shrink-0 mt-1" />
            <div>
              <p class="text-[14px] lg:text-[20px] font-regular">
                Bônus 2 — GUIA - CÓDIGOS DA REGULARIZAÇÃO DE IMÓVEIS de <span class="font-semibold">R$ 197</span> por <span class="font-semibold">R$ 0,00</span>
              </p>
            </div>
          </div>
          
          <!-- BÔNUS #3 -->
          <div class="flex items-start gap-3">
            <Check size={20} class="flex-shrink-0 mt-1" />
            <div>
              <p class="text-[14px] lg:text-[20px] font-regular">
                Bônus 3 — Certificado de conclusão <span class="font-semibold">R$ 197</span> por <span class="font-semibold">R$ 0,00</span>
              </p>
            </div>
          </div>
          
        </div>
        
        <!-- Espaço 32px -->
        <div class="mt-8"></div>
        
        <!-- Divisor -->
        <div class="w-full h-[2px] bg-white opacity-20"></div>
        
        <!-- Espaço 16px -->
        <div class="mt-4"></div>
        
        <!-- Valor total dos bônus -->
        <div class="text-center lg:text-left">
          <p class="text-[16px] lg:text-[24px] font-regular">
            Valor total dos bônus: <span class="font-semibold">R$ 5.391,00</span>
          </p>
        </div>
        
        <!-- Espaço 16px -->
        <div class="mt-4"></div>
        
        <!-- Mensagem final -->
        <div class="text-center lg:text-left">
          <p class="text-[16px] lg:text-[20px] font-regular italic">
            "Ou seja, os bônus já pagam o curso sozinho!"
          </p>
        </div>
        
        <!-- Espaço 32px -->
        <div class="mt-8"></div>
        
      </div>
      
    </div>
  </div>
</Section>